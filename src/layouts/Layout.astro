---
const { title } = Astro.props;

import Navbar from "../components/Navbar.astro";
---

<html lang="en">
    <head>
        <script is:inline>
            if (
                localStorage.theme === "dark" ||
                (!("theme" in localStorage) &&
                    window.matchMedia("(prefers-color-scheme: dark)").matches)
            ) {
                document.documentElement.classList.add("dark");
            } else {
                document.documentElement.classList.remove("dark");
            }
        </script>

        <meta charset="utf-8" />

        <title>{title}</title>

        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    </head>

    <body
        class="min-h-screen font-sans
        bg-gray-50 text-gray-900
        dark:bg-gray-900 dark:text-gray-100"
    >
        <div class="mx-auto max-w-4xl px-6">
            <Navbar />

            <slot />

            <footer class="text-center text-gray-500 text-sm mt-10 pb-4">
                Â© Created by <a
                    class="text-blue-600"
                    target="_blank"
                    href="https://gabo-cs.github.io/">Gabriel Coronado</a
                > in 2025
            </footer>
        </div>

        <!-- Toggle logic -->
        <script>
            document.addEventListener("DOMContentLoaded", () => {
                const btn = document.getElementById("theme-toggle");
                if (!btn) return;

                btn.addEventListener("click", () => {
                    const isDark =
                        document.documentElement.classList.toggle("dark");
                    localStorage.theme = isDark ? "dark" : "light";
                });
            });
        </script>
    </body>
</html>
